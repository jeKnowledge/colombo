<%= link_to "Sign out", sign_out_path %>

<h1>Listing Auditors</h1>

<table>
  <thead>
    <tr>
      <th>Username</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @auditors.each do |user| %>
      <tr>
        <td><%= user.username %></td>
        <td><%= user.first_name %></td>
        <td><%= user.last_name %></td>
        <% if !user.validated %>
          <td><%= link_to "Validate", validate_user_admin_path(user.id), method: :post %></td>
        <% end %>
        <td><%= link_to "Details", show_user_admin_path(user.id) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @auditors, param_name: :auditor_page %>

<h1>Listing Clients</h1>

<table>
  <thead>
    <tr>
      <th>Username</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @clients.each do |user| %>
      <tr>
        <td><%= user.username %></td>
        <td><%= user.first_name %></td>
        <td><%= user.last_name %></td>
        <% if !user.validated %>
          <td><%= link_to "Validate", validate_user_admin_path(user.id), method: :post %></td>
        <% end %>
        <td><%= link_to "Details", show_user_admin_path(user.id) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<br>

<%= paginate @clients, param_name: :client_page %>

<h1>Listing Reports</h1>

<table>
  <thead>
    <tr>
      <th>Site</th>
      <th>Address</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @reports.each do |report| %>
      <tr>
        <td><%= report.site %></td>
        <td><%= report.date %></td>
        <td><%= link_to report.auditor.username, show_user_admin_path(report.auditor_id) %></td>
        <% if !report.validated %>
          <td><%= link_to "Validate", validate_audit_admin_path(report.id), method: :post %></td>
        <% end %>
        <td><%= link_to "Details", show_audit_admin_path(report.id) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @reports, param_name: :report_page %>


<h1>Listing Plans</h1>

<table>
  <thead>
    <tr>
      <th>Site</th>
      <th>Address</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @plans.each do |plan| %>
      <tr>
        <td><%= plan.site %></td>
        <td><%= plan.date %></td>
        <td><%= link_to plan.auditor.username, show_user_admin_path(plan.auditor_id) %></td>
        <% if !plan.validated %>
          <td><%= link_to "Validate", validate_audit_admin_path(plan.id), method: :post %></td>
        <% end %>
        <td><%= link_to "Details", show_audit_admin_path(plan.id) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @plans, param_name: :plan_page %>
